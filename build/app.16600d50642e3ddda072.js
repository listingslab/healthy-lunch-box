webpackJsonp([0,3],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),u=r(i),a=n(28),o=n(166),d=n(187),s=n(204),c=r(s),l=n(205),f=(r(l),n(211)),p=r(f),h=n(213),y=r(h),E=[c.default],v=(0,o.createStore)(p.default,o.applyMiddleware.apply(void 0,E));(0,a.render)(u.default.createElement(d.Provider,{store:v},u.default.createElement(y.default,null)),document.getElementById("root"))},211:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(166),u=n(212),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reactjs",t=arguments[1];switch(t.type){case u.SELECT_REDDIT:return t.reddit;default:return e}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didInvalidate:!1,items:[]},t=arguments[1];switch(t.type){case u.INVALIDATE_REDDIT:return Object.assign({},e,{didInvalidate:!0});case u.REQUEST_POSTS:return Object.assign({},e,{isFetching:!0,didInvalidate:!1});case u.RECEIVE_POSTS:return Object.assign({},e,{isFetching:!1,didInvalidate:!1,items:t.posts,lastUpdated:t.receivedAt});default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case u.INVALIDATE_REDDIT:case u.RECEIVE_POSTS:case u.REQUEST_POSTS:return Object.assign({},e,r({},t.reddit,o(e[t.reddit],t)));default:return e}},s=(0,i.combineReducers)({postsByReddit:d,selectedReddit:a});t.default=s},212:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.REQUEST_POSTS="REQUEST_POSTS",r=t.RECEIVE_POSTS="RECEIVE_POSTS",i=t.SELECT_REDDIT="SELECT_REDDIT",u=t.INVALIDATE_REDDIT="INVALIDATE_REDDIT",a=(t.selectReddit=function(e){return{type:i,reddit:e}},t.invalidateReddit=function(e){return{type:u,reddit:e}},t.requestPosts=function(e){return{type:n,reddit:e}}),o=t.receivePosts=function(e,t){return{type:r,reddit:e,posts:t.data.children.map(function(e){return e.data}),receivedAt:Date.now()}},d=function(e){return function(t){return t(a(e)),fetch("https://www.reddit.com/r/"+String(e)+".json").then(function(e){return e.json()}).then(function(n){return t(o(e,n))})}},s=function(e,t){var n=e.postsByReddit[t];return!n||!n.isFetching&&n.didInvalidate};t.fetchPostsIfNeeded=function(e){return function(t,n){if(s(n(),e))return t(d(e))}}},213:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),s=r(d),c=n(187),l=n(212),f=n(214),p=r(f),h=n(215),y=r(h),E=function(e){function t(){var e,n,r,a;i(this,t);for(var o=arguments.length,d=Array(o),s=0;s<o;s++)d[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.handleChange=function(e){r.props.dispatch((0,l.selectReddit)(e))},r.handleRefreshClick=function(e){e.preventDefault();var t=r.props,n=t.dispatch,i=t.selectedReddit;n((0,l.invalidateReddit)(i)),n((0,l.fetchPostsIfNeeded)(i))},a=n,u(r,a)}return a(t,e),o(t,[{key:"componentDidMount",value:function(){function e(){var e=this.props,t=e.dispatch,n=e.selectedReddit;t((0,l.fetchPostsIfNeeded)(n))}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){if(e.selectedReddit!==this.props.selectedReddit){var t=e.dispatch,n=e.selectedReddit;t((0,l.fetchPostsIfNeeded)(n))}}return e}()},{key:"render",value:function(){function e(){var e=this.props,t=e.selectedReddit,n=e.posts,r=e.isFetching,i=e.lastUpdated,u=0===n.length;return s.default.createElement("div",null,s.default.createElement(p.default,{value:t,onChange:this.handleChange,options:["reactjs","frontend"]}),s.default.createElement("p",null,i&&s.default.createElement("span",null,"Last updated at ",new Date(i).toLocaleTimeString(),"."," "),!r&&s.default.createElement("a",{href:"#",onClick:this.handleRefreshClick},"Refresh")),u?r?s.default.createElement("h2",null,"Loading..."):s.default.createElement("h2",null,"Empty."):s.default.createElement("div",{style:{opacity:r?.5:1}},s.default.createElement(y.default,{posts:n})))}return e}()}]),t}(d.Component);E.propTypes={selectedReddit:d.PropTypes.string.isRequired,posts:d.PropTypes.array.isRequired,isFetching:d.PropTypes.bool.isRequired,lastUpdated:d.PropTypes.number,dispatch:d.PropTypes.func.isRequired};var v=function(e){var t=e.selectedReddit,n=e.postsByReddit,r=n[t]||{isFetching:!0,items:[]},i=r.isFetching,u=r.lastUpdated,a=r.items;return{selectedReddit:t,posts:a,isFetching:i,lastUpdated:u}};t.default=(0,c.connect)(v)(E)},214:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=r(i),a=function(e){var t=e.value,n=e.onChange,r=e.options;return u.default.createElement("span",null,u.default.createElement("h1",null,t),u.default.createElement("select",{onChange:function(){function e(e){return n(e.target.value)}return e}(),value:t},r.map(function(e){return u.default.createElement("option",{value:e,key:e},e)})))};a.propTypes={options:i.PropTypes.arrayOf(i.PropTypes.string.isRequired).isRequired,value:i.PropTypes.string.isRequired,onChange:i.PropTypes.func.isRequired},t.default=a},215:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=r(i),a=function(e){var t=e.posts;return u.default.createElement("ul",null,t.map(function(e,t){return u.default.createElement("li",{key:t},e.title)}))};a.propTypes={posts:i.PropTypes.array.isRequired},t.default=a}});